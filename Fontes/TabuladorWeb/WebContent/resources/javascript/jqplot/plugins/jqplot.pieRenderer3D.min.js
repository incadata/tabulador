(function(e){g(rad,color,data);function g(u,p,s){var n=0;var s=s;var v=0;var o=[];console.log(window.mycol.length);for(q=0;q<window.mycol.length;q++){o.push(window.mycol[q])}ctx.scale(1,0.4);for(var t=0;t<s.length;t++){v+=s[t][1]}for(var q=0;q<window.n;q++){for(var r=0;r<s.length;r++){ctx.beginPath();if(q==0||q==1||q==2){ctx.fillStyle="rgba(10,5,5,0.02)"}else{ctx.fillStyle=(o[r])}ctx.moveTo(0,q);ctx.arc(0,q,u,n,n+(Math.PI*2*(s[r][1]/v)),false);ctx.lineTo(0,q);ctx.fill();n+=Math.PI*2*(s[r][1]/v);ctx.globalCompositeOperation="destination-over"}}if(fill){ctx.fill()}else{ctx.stroke()}}e.jqplot.PieRenderer3D.prototype.draw=function(A,v,D,n){var V;var G=(D!=undefined)?D:{};var s=0;var q=0;var M=1;window.mycol=this.seriesColors;var K=new e.jqplot.ColorGenerator(this.seriesColors);if(D.legendInfo&&D.legendInfo.placement=="insideGrid"){var I=D.legendInfo;switch(I.location){case"nw":s=I.width+I.xoffset;break;case"w":s=I.width+I.xoffset;break;case"sw":s=I.width+I.xoffset;break;case"ne":s=I.width+I.xoffset;M=-1;break;case"e":s=I.width+I.xoffset;M=-1;break;case"se":s=I.width+I.xoffset;M=-1;break;case"n":q=I.height+I.yoffset;break;case"s":q=I.height+I.yoffset;M=-1;break;default:break}}var J=(G.shadow!=undefined)?G.shadow:this.shadow;var z=(G.fill!=undefined)?G.fill:this.fill;var B=A.canvas.width;var H=A.canvas.height;var P=B-s-2*this.padding;var W=H-q-2*this.padding;var L=Math.min(P,W);var X=L;this._sliceAngles=[];var u=this.sliceMargin;if(this.fill==false){u+=this.lineWidth}var p;var F=0;var Q,Z,Y,aa;var C=this.startAngle/180*Math.PI;for(var V=0,U=v.length;V<U;V++){Z=(V==0)?C:v[V-1][1]+C;Y=v[V][1]+C;this._sliceAngles.push([Z,Y]);p=calcRPrime(Z,Y,this.sliceMargin,this.fill,this.lineWidth);if(Math.abs(Y-Z)>Math.PI){F=Math.max(p,F)}}if(this.diameter!=null&&this.diameter>0){this._diameter=this.diameter-2*F}else{this._diameter=X-2*F}if(this._diameter<6){e.jqplot.log("Diameter of pie too small, not rendering.");return}var R=this._radius=this._diameter/2;this._center=[(B-M*s)/2+M*s+F*Math.cos(C),(H-M*q)/2+M*q+F*Math.sin(C)];if(this.shadow){for(var V=0,U=v.length;V<U;V++){aa="rgba(0,0,0,"+this.shadowAlpha+")";this.renderer.drawSlice.call(this,A,this._sliceAngles[V][0],this._sliceAngles[V][1],aa,true)}}for(var V=0;V<v.length;V++){this.renderer.drawSlice.call(this,A,this._sliceAngles[V][0],this._sliceAngles[V][1],K.next(),false);if(this.showDataLabels&&v[V][2]*100>=this.dataLabelThreshold){var E,T=(this._sliceAngles[V][0]+this._sliceAngles[V][1])/2,S;if(this.dataLabels=="label"){E=this.dataLabelFormatString||"%s";S=e.jqplot.sprintf(E,v[V][0])}else{if(this.dataLabels=="value"){E=this.dataLabelFormatString||"%d";S=e.jqplot.sprintf(E,this.data[V][1])}else{if(this.dataLabels=="percent"){E=this.dataLabelFormatString||"%d%%";S=e.jqplot.sprintf(E,v[V][2]*100)}else{if(this.dataLabels.constructor==Array){E=this.dataLabelFormatString||"%s";S=e.jqplot.sprintf(E,this.dataLabels[V])}}}}var o=(this._radius)*this.dataLabelPositionFactor+this.sliceMargin+this.dataLabelNudge;var O=this._center[0]+Math.cos(T)*o+this.canvas._offsets.left;var N=this._center[1]+Math.sin(T)*o+this.canvas._offsets.top;var t=e('<div class="jqplot-pie-series jqplot-data-label" style="position:absolute;">'+S+"</div>").insertBefore(n.eventCanvas._elem);if(this.dataLabelCenterOn){O-=t.width()/2;N-=t.height()/2}else{O-=t.width()*Math.sin(T/2);N-=t.height()/2}O=Math.round(O);N=Math.round(N);t.css({left:O,top:N})}}};e.jqplot.PieAxisRenderer3D=function(){e.jqplot.LinearAxisRenderer.call(this)};e.jqplot.PieAxisRenderer3D.prototype=new e.jqplot.LinearAxisRenderer();e.jqplot.PieAxisRenderer3D.prototype.constructor=e.jqplot.PieAxisRenderer3D;e.jqplot.PieAxisRenderer3D.prototype.init=function(n){this.tickRenderer=e.jqplot.PieTickRenderer;e.extend(true,this,n);this._dataBounds={min:0,max:100};this.min=0;this.max=100;this.showTicks=false;this.ticks=[];this.showMark=false;this.show=false};e.jqplot.PieLegendRenderer3D=function(){e.jqplot.TableLegendRenderer.call(this)};e.jqplot.PieLegendRenderer3D.prototype=new e.jqplot.TableLegendRenderer();e.jqplot.PieLegendRenderer3D.prototype.constructor=e.jqplot.PieLegendRenderer3D;e.jqplot.PieLegendRenderer3D.prototype.init=function(n){this.numberRows=null;this.numberColumns=null;e.extend(true,this,n)};e.jqplot.PieLegendRenderer3D.prototype.draw=function(){var q=this;if(this.show){var A=this._series;this._elem=e(document.createElement("table"));this._elem.addClass("jqplot-table-legend");var D={position:"absolute"};if(this.background){D.background=this.background}if(this.border){D.border=this.border}if(this.fontSize){D.fontSize=this.fontSize}if(this.fontFamily){D.fontFamily=this.fontFamily}if(this.textColor){D.textColor=this.textColor}if(this.marginTop!=null){D.marginTop=this.marginTop}if(this.marginBottom!=null){D.marginBottom=this.marginBottom}if(this.marginLeft!=null){D.marginLeft=this.marginLeft}if(this.marginRight!=null){D.marginRight=this.marginRight}this._elem.css(D);var H=false,z=false,n,x;var B=A[0];var o=new e.jqplot.ColorGenerator(B.seriesColors);if(B.show){var I=B.data;if(this.numberRows){n=this.numberRows;if(!this.numberColumns){x=Math.ceil(I.length/n)}else{x=this.numberColumns}}else{if(this.numberColumns){x=this.numberColumns;n=Math.ceil(I.length/this.numberColumns)}else{n=I.length;x=1}}var G,F;var p,v,u;var w,y,E;var C=0;var t,r;for(G=0;G<n;G++){p=e(document.createElement("tr"));p.addClass("jqplot-table-legend");if(z){p.prependTo(this._elem)}else{p.appendTo(this._elem)}for(F=0;F<x;F++){if(C<I.length){w=this.labels[C]||I[C][0].toString();E=o.next();if(!z){if(G>0){H=true}else{H=false}}else{if(G==n-1){H=false}else{H=true}}y=(H)?this.rowSpacing:"0";v=e(document.createElement("td"));v.addClass("jqplot-table-legend jqplot-table-legend-swatch");v.css({textAlign:"center",paddingTop:y});t=e(document.createElement("div"));t.addClass("jqplot-table-legend-swatch-outline");r=e(document.createElement("div"));r.addClass("jqplot-table-legend-swatch");r.css({backgroundColor:E,borderColor:E});v.append(t.append(r));u=e(document.createElement("td"));u.addClass("jqplot-table-legend jqplot-table-legend-label");u.css("paddingTop",y);if(this.escapeHtml){u.text(w)}else{u.html(w)}if(z){u.prependTo(p);v.prependTo(p)}else{v.appendTo(p);u.appendTo(p)}H=true}C++}}}}return this._elem};e.jqplot.PieRenderer3D.prototype.handleMove=function(p,o,s,r,q){if(r){var n=[r.seriesIndex,r.pointIndex,r.data];q.target.trigger("jqplotDataMouseOver",n);if(q.series[n[0]].highlightMouseOver&&!(n[0]==q.plugins.PieRenderer3D.highlightedSeriesIndex&&n[1]==q.series[n[0]]._highlightedPoint)){q.target.trigger("jqplotDataHighlight",n);d(q,n[0],n[1])}}else{if(r==null){j(q)}}};function c(r,q,o){o=o||{};o.axesDefaults=o.axesDefaults||{};o.legend=o.legend||{};o.seriesDefaults=o.seriesDefaults||{};var n=false;if(o.seriesDefaults.renderer==e.jqplot.PieRenderer3D){n=true}else{if(o.series){for(var p=0;p<o.series.length;p++){if(o.series[p].renderer==e.jqplot.PieRenderer3D){n=true}}}}if(n){o.axesDefaults.renderer=e.jqplot.PieAxisRenderer3D;o.legend.renderer=e.jqplot.PieLegendRenderer3D;o.legend.preDraw=true;o.seriesDefaults.pointLabels={show:false}}}function h(q,p,n){for(var o=0;o<this.series.length;o++){if(this.series[o].renderer.constructor==e.jqplot.PieRenderer3D){if(this.series[o].highlightMouseOver){this.series[o].highlightMouseDown=false}}}}function l(n){for(var o=0;o<this.series.length;o++){this.series[o].seriesColors=this.seriesColors;this.series[o].colorGenerator=e.jqplot.colorGenerator}}function d(r,q,p){var o=r.series[q];var n=r.plugins.PieRenderer3D.highlightCanvas;n._ctx.clearRect(0,0,n._ctx.canvas.width,n._ctx.canvas.height);o._highlightedPoint=p;r.plugins.PieRenderer3D.highlightedSeriesIndex=q;o.renderer.drawSlice.call(data,o,n._ctx,o._sliceAngles[p][0],o._sliceAngles[p][1],o.highlightColorGenerator.get(p),false)}function j(p){var n=p.plugins.PieRenderer3D.highlightCanvas;n._ctx.clearRect(0,0,n._ctx.canvas.width,n._ctx.canvas.height);for(var o=0;o<p.series.length;o++){p.series[o]._highlightedPoint=null}p.plugins.PieRenderer3D.highlightedSeriesIndex=null;p.target.trigger("jqplotDataUnhighlight")}function b(r,q,u,t,s){if(t){var p=[t.seriesIndex,t.pointIndex,t.data];var o=jQuery.Event("jqplotDataMouseOver");o.pageX=r.pageX;o.pageY=r.pageY;s.target.trigger(o,p);if(s.series[p[0]].highlightMouseOver&&!(p[0]==s.plugins.PieRenderer3D.highlightedSeriesIndex&&p[1]==s.series[p[0]]._highlightedPoint)){var n=jQuery.Event("jqplotDataHighlight");n.which=r.which;n.pageX=r.pageX;n.pageY=r.pageY;s.target.trigger(n,p);d(s,p[0],p[1])}}else{if(t==null){j(s)}}}function a(q,p,t,s,r){if(s){var o=[s.seriesIndex,s.pointIndex,s.data];if(r.series[o[0]].highlightMouseDown&&!(o[0]==r.plugins.PieRenderer3D.highlightedSeriesIndex&&o[1]==r.series[o[0]]._highlightedPoint)){var n=jQuery.Event("jqplotDataHighlight");n.which=q.which;n.pageX=q.pageX;n.pageY=q.pageY;r.target.trigger(n,o);d(r,o[0],o[1])}}else{if(s==null){j(r)}}}function k(p,o,s,r,q){var n=q.plugins.PieRenderer3D.highlightedSeriesIndex;if(n!=null&&q.series[n].highlightMouseDown){j(q)}}function f(q,p,t,s,r){if(s){var o=[s.seriesIndex,s.pointIndex,s.data];var n=jQuery.Event("jqplotDataClick");n.which=q.which;n.pageX=q.pageX;n.pageY=q.pageY;r.target.trigger(n,o)}}function m(r,q,u,t,s){if(t){var p=[t.seriesIndex,t.pointIndex,t.data];var n=s.plugins.PieRenderer3D.highlightedSeriesIndex;if(n!=null&&s.series[n].highlightMouseDown){j(s)}var o=jQuery.Event("jqplotDataRightClick");o.which=r.which;o.pageX=r.pageX;o.pageY=r.pageY;s.target.trigger(o,p)}}function i(){if(this.plugins.PieRenderer3D&&this.plugins.PieRenderer3D.highlightCanvas){this.plugins.PieRenderer3D.highlightCanvas.resetCanvas();this.plugins.PieRenderer3D.highlightCanvas=null}this.plugins.PieRenderer3D={highlightedSeriesIndex:null};this.plugins.PieRenderer3D.highlightCanvas=new e.jqplot.GenericCanvas();var o=e(this.targetId+" .jqplot-data-label");if(o.length){e(o[0]).before(this.plugins.PieRenderer3D.highlightCanvas.createElement(this._gridPadding,"jqplot-PieRenderer3D-highlight-canvas",this._plotDimensions,this))}else{this.eventCanvas._elem.before(this.plugins.PieRenderer3D.highlightCanvas.createElement(this._gridPadding,"jqplot-PieRenderer3D-highlight-canvas",this._plotDimensions,this))}var n=this.plugins.PieRenderer3D.highlightCanvas.setContext();this.eventCanvas._elem.bind("mouseleave",{plot:this},function(p){j(p.data.plot)})}e.jqplot.preInitHooks.push(c);e.jqplot.PieTickRenderer3D=function(){e.jqplot.AxisTickRenderer3D.call(this)};e.jqplot.PieTickRenderer3D.prototype=new e.jqplot.AxisTickRenderer();e.jqplot.PieTickRenderer3D.prototype.constructor=e.jqplot.PieTickRenderer})(jQuery);